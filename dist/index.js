"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=_interopDefault(require("react")),__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function __rest(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function useObserve(e){var t=e.isIntersecting,r=void 0===t?function(){}:t,n=e.isNotIntersecting,s=void 0===n?function(){}:n,o=e.onEndObserving,i=void 0===o?function(){}:o,c=e.options,u=e.triggersOnce,a=void 0!==u&&u,l=e.unobserve,f=void 0===l?function(){return!1}:l,v=React.useRef(null);function d(e,t){var n=e[0];n.isIntersecting?(r(n),a&&(i(n),t.disconnect())):s(n),f(n)&&(i(n),t.disconnect())}return React.useEffect(function(){var e=new IntersectionObserver(d,c);return v.current&&e.observe(v.current),function(){e.disconnect()}},[v.current]),{elementRef:v}}function cleanObserveProps(e){var t=__assign({},e);return delete t.isIntersecting,delete t.isNotIntersecting,delete t.options,delete t.triggersOnce,delete t.unobserve,delete t.onEndObserving,delete t.as,t}var Observe=function(e){var t=e.as,n=void 0===t?"div":t,r=e.children,s=cleanObserveProps(__rest(e,["as","children"])),o=useObserve(e).elementRef;return React.createElement(n,__assign({ref:o},s),r)};exports.Observe=Observe,exports.useObserve=useObserve;
